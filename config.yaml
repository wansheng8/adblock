# 广告过滤规则生成器配置文件
# 版本: 3.3

# 项目信息
project:
  name: "adblock-enhanced"
  version: "3.3.0"
  description: "智能广告过滤规则生成器"
  author: "wansheng8"
  license: "MIT"

# GitHub配置
github:
  user: "wansheng8"
  repo: "adblock-enhanced"
  branch: "main"
  # 发布选项
  publish_releases: false
  release_tag_prefix: "v"
  create_pr_on_update: false
  
# 性能配置
performance:
  max_workers: 15
  timeout: 30
  retry_times: 3
  batch_size: 1000
  memory_limit_mb: 2048
  use_cache: false
  cache_expiry_hours: 24
  compress_cache: false
  parallel_processing: true
  chunk_size: 1000
  
# 规则处理配置
rules:
  # 输入源配置 - 注意：主程序优先使用 rules/sources/black.txt 和 rules/sources/white.txt 中的源
  # 这里配置的源仅作为备用
  
  # 内置备用源（当文件中的源全部失败时使用）
  backup_sources:
    blacklist:
      - "https://raw.githubusercontent.com/AdguardTeam/AdguardFilters/master/BaseFilter/sections/adservers.txt"
      - "https://easylist.to/easylist/easylist.txt"
      - "https://easylist.to/easylist/easyprivacy.txt"
      - "https://secure.fanboy.co.nz/fanboy-annoyance.txt"
      - "https://secure.fanboy.co.nz/fanboy-social.txt"
      - "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts"
    whitelist:
      - "https://raw.githubusercontent.com/AdguardTeam/AdguardFilters/master/BaseFilter/sections/allowlist.txt"
      - "https://raw.githubusercontent.com/anudeepND/whitelist/master/domains/whitelist.txt"
  
  # 排除的域名
  exclude_domains:
    - "localhost"
    - "local"
    - "broadcasthost"
    - "127.0.0.1"
    - "0.0.0.0"
    - "::1"
    - "ip6-localhost"
    - "ip6-loopback"
    - "ip6-localnet"
    - "ip6-mcastprefix"
  
  # 智能过滤配置
  intelligent_filtering:
    enable_essential_domain_whitelist: true
    enable_safe_domains_check: true
    enable_false_positive_filter: true
    remove_suspicious_wildcards: true
    keep_popular_domains: true
    enable_domain_validation: true
    remove_duplicate_subdomains: true
    validate_domains: true
    remove_invalid_domains: true
    
  # 增强拦截配置
  enhanced_blocking:
    analytics:
      enabled: true
      block_execution: true
      block_scripts: true
      
    banner_ads:
      enabled: true
      block_flash: true
      block_gif: true
      block_static_images: true
      
    error_monitoring:
      enabled: true
      
    contextual_ads:
      enabled: true
      
    element_hiding:
      enabled: true
      generate_rules: true
      
    script_blocking:
      enabled: true
      generate_rules: true
    
  # 优化设置
  optimization:
    compress_rules: false
    max_rule_length: 500
    remove_comments: false
    sort_alphabetically: true
    remove_empty_lines: true
    
  # 域名验证
  validation:
    min_domain_length: 3
    max_domain_length: 253
    min_tld_length: 2
    allow_idn: false
    allow_underscores: false
    allow_hyphens: true
    allow_numbers: true
    validate_tld: false

# 文件路径配置
paths:
  # 目录结构
  base_dir: "."
  sources_dir: "rules/sources"
  outputs_dir: "rules/outputs"
  cache_dir: "cache"
  logs_dir: "logs"
  reports_dir: "reports"
  backup_dir: "backups"
  
  # 源文件（您的自定义源文件）
  black_source: "rules/sources/black.txt"
  white_source: "rules/sources/white.txt"
  custom_sources: "rules/sources/custom/"
  
  # 输出文件
  output_files:
    ad: "rules/outputs/ad.txt"
    dns: "rules/outputs/dns.txt"
    hosts: "rules/outputs/hosts.txt"
    black: "rules/outputs/black.txt"
    white: "rules/outputs/white.txt"
    info: "rules/outputs/info.json"
    enhanced: "rules/outputs/enhanced.txt"
    
  # 日志文件
  error_log: "logs/error.log"
  access_log: "logs/access.log"
  debug_log: "logs/debug.log"
  
  # 报告文件
  detailed_report: "reports/detailed_report.json"
  validation_report: "reports/validation_report.json"
  performance_report: "reports/performance_report.json"
  stats_report: "reports/stats_report.json"
  comparison_report: "reports/comparison_report.json"

# 监控配置
monitoring:
  enable_error_tracking: true
  enable_performance_monitoring: true
  enable_memory_monitoring: true
  enable_disk_usage_monitoring: false
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  max_log_size_mb: 50
  log_retention_days: 30
  rotate_logs: true
  
# 报告配置
reports:
  generate_detailed_report: true
  generate_validation_report: false
  generate_performance_report: false
  generate_stats_report: false
  generate_comparison_report: false
  
  include_tld_stats: true
  include_length_stats: true
  include_top_domains: 50
  include_removed_domains: true
  include_whitelisted_domains: true
  
  report_format: "json"
  compress_reports: false
  
# 网络配置
network:
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 AdBlockGenerator/3.3"
  accept_encoding: "gzip, deflate, br"
  rate_limit_requests_per_second: 10
  max_redirects: 5
  verify_ssl: true
  proxy_enabled: false
  proxy_url: ""
  connection_timeout: 10
  enable_backup_sources: true
  
# 自动更新配置
auto_update:
  check_for_updates: false
  update_frequency_hours: 12
  notify_on_update: false
  backup_before_update: true
  max_backups: 5
  
  # 源更新配置
  update_sources: false
  source_update_frequency_hours: 24
  validate_sources: true
